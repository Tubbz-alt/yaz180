LISTING FOR LOGIC DESCRIPTION FILE: YAZ180_LOGIC.pld                 Page 1

CUPL(WM): Universal Compiler for Programmable Logic
Version 5.0a Serial# 60008009
Copyright (c) 1983, 1998 Logical Devices, Inc.
Created Sat Sep 16 13:08:42 2017

  1:Name     YAZ180_Logic ;
  2:PartNo   00 ;
  3:Date     16/09/2017 ;
  4:Revision 09 ;
  5:Designer Phillip Stevens ;
  6:Company  Emotiv8 ;
  7:Assembly None ;
  8:Location Melbourne Australia ;
  9:Device   G16V8MS ;
 10:
 11:/* *************** INPUT PINS *********************/
 12:
 13:PIN   1  =   RESET_CLK          ; /* PROGRAM mode D flipflop CLK, POSITIVE EDGE, Connected to RESET  */
 14:PIN   2  =  !HALT               ; /* CPU Halt opcode executed, ACTIVE LOW */
 15:
 16:PIN   3  =  !WR                 ; /* Write Strobe, ACTIVE LOW */
 17:PIN   4  =  !RD                 ; /* Read Strobe, ACTIVE LOW */
 18:
 19:PIN   5  =  !USB_CS             ; /* USB WR/RD Chip Select, ACTIVE LOW */
 20:
 21:PIN   6  =  !TXE                ; /* FT245R USB Transmit Enable, ACTIVE LOW */  
 22:PIN   7  =  !RXF                ; /* FT245R USB Receive Enable, ACTIVE LOW */
 23:
 24:PIN   8  =  !PAUSE              ; /* Am9511A-1 FPU Pause during command processing */
 25:PIN   9  =  !SS_REQ             ; /* Single Step mode request pin from BREAK circuit, ACTIVE LOW */
 26:
 27:PIN  12  =  !SS_WAIT_REQ        ; /* Wait request from Single Step circuit, ACTIVE LOW */
 28:
 29:PIN  13  =  !RESET_REQ          ; /* Reset request pin. ACTIVE LOW From RESET button via debounce */
 30:
 31:
 32:/* *************** OUTPUT PINS *********************/
 33:
 34:PIN  19  =  !PROGRAM            ; /* Enter Programming Mode, ACTIVE LOW  */ 
 35:
 36:PIN  18  =  !RESIN              ; /* Trigger System RESET, ACTIVE LOW  */
 37:PIN  17  =  !WAIT               ; /* CPU WAIT State, ACTIVE LOW, Cause CPU to wait until USB Data available */
 38:
 39:PIN  16  =  !USB_WR             ; /* USB Write Chip Select, ACTIVE LOW, FT245R Doesn't have a CS pin */
 40:PIN  15  =  !USB_RD             ; /* USB Read Chip Select, ACTIVE LOW, FT245R Doesn't have a CS pin */
 41:
 42:
 43:/* ******************* LOGIC ***********************/
 44:
 45:PROGRAM.D = RXF                 ; /* If USB Data available, then trigger PROGRAM mode using D flipflop, which is clocked by RESET_CLK */
 46:
 47:CONDITION {
 48:        IF (  WR & USB_CS )                  OUT USB_WR    ; /* Provide the USB Write Strobe */
 49:        }
 50:
 51:CONDITION {
 52:        IF (  RD & USB_CS )                  OUT USB_RD    ; /* Provide the USB Read Strobe */
 53:        }

LISTING FOR LOGIC DESCRIPTION FILE: YAZ180_LOGIC.pld                 Page 2

CUPL(WM): Universal Compiler for Programmable Logic
Version 5.0a Serial# 60008009
Copyright (c) 1983, 1998 Logical Devices, Inc.
Created Sat Sep 16 13:08:42 2017

 54:        
 55:CONDITION {
 56:        IF (  WR & USB_CS &  TXE  )          OUT WAIT      ; /* If there is no space in USB Buffers for write, then WAIT for space to be available */
 57:        IF (  RD & USB_CS & !RXF  )          OUT WAIT      ; /* If there is no data in USB Buffers for read, then WAIT for it to be available */
 58:        IF (  SS_REQ & SS_WAIT_REQ )         OUT WAIT      ; /* We are in Single Step mode, and a WAIT request has arrived, so WAIT. */
 59:        IF (  PAUSE )                        OUT WAIT      ; /* When the FPU needs to digest a command, then WAIT */
 60:        }
 61:
 62:CONDITION {
 63:        IF (  RESET_REQ )                    OUT RESIN     ; /* If we need to RESET, then respond to a RESET_REQ */
 64:        IF ( !PROGRAM & RXF )                OUT RESIN     ; /* If there's received USB data, and we're not in PROGRAM mode, then RESET (Start programming) */
 65:        IF (  PROGRAM & HALT )               OUT RESIN     ; /* If we're in PROGRAM mode, and we see the Halt Opcode, then RESET (Finished programming) */
 66:        }
 67:
 68:



Jedec Fuse Checksum       (3f0e)
Jedec Transmit Checksum   (e68a)
